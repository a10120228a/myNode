<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    #image{
      width:200px;
      height:60px;
      display:block;
      font-size:30px;
    }
  </style>
</head>
<body>
  <a id="image" href="" download="">下载图片</a>
  <script>
    /*
    * color,   背景色
    * text,    文本内容
    * imgUrl,  图片链接
    * imgLeft, 图片左边距
    * imgTop,  图片右边距
    * imgSize  图片大小
    * */
    function canvasFull(color,text,imgUrl,imgLeft,imgTop,imgSize){
      let canvas = document.createElement("canvas");
      let a = document.getElementById("image");
      canvas.width = "1024";
      canvas.height = "1024";
      canvas.id = "canvas";
      document.body.appendChild(canvas);
      let ctx = document.getElementById("canvas");
      let c= ctx.getContext("2d");
      c.fillStyle = color;
      c.beginPath();
      c.moveTo(0,120);
      c.lineTo(0,904);
      c.bezierCurveTo(0,904,0,1024,120,1024);
      c.lineTo(904,1024);
      c.bezierCurveTo(904,1024,1024,1024,1024,904);
      c.lineTo(1024,904);
      c.lineTo(1024,120);
      c.bezierCurveTo(1024,120,1024,0,904,0);
      c.lineTo(964,0);
      c.lineTo(60,0);
      c.bezierCurveTo(120,-1,0,0,0,120);
      c.fill();
      c.clip();
      c.closePath();
      if(text){
        c.font = "600px 宋体";
        c.fillStyle = "white";
        c.textBaseline="middle";
        c.textAlign="center";
        c.fillText(text,517,517);
        c.closePath();

      }
      if(imgUrl){
        let img = new Image();
        img.src = imgUrl;
        img.onload = () => {
          c.drawImage(img,imgLeft,imgTop,imgSize,imgSize);
        }
      }
      let url = ctx.toDataURL("image/png",1);
      a.href = url;
    }

    canvasFull('aqua',"谁","star.png",100,200,400);
  </script>
</body>
</html>
