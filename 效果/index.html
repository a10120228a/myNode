<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>彗星尾部效果</title>
  <style>
    *{
      margin:0;
      padding:0;
    }
    html,body{
      width:100%;
      height:100%;
    }
  </style>
</head>
<body>
<script>
  const canvas = document.createElement("canvas");
  const maxW = window.innerWidth;
  const maxH = window.innerHeight;
  canvas.width = maxW;
  canvas.height = maxH;
  canvas.id = 'canvas';
  document.body.appendChild(canvas);

  const ctx = document.getElementById('canvas');
  const c = ctx.getContext('2d');

  let rx = Math.floor(Math.random() * maxW);
  let ry = Math.floor(Math.random() * maxH);

  let speedx = 5;
  let speedy = 5;

  const r = 10;

  setInterval(() => {
    if(rx + speedx >= maxW - r / 2 || rx + speedx <= r / 2){
      speedx = -speedx;
    }
    if(ry + speedy >= maxH - r / 2 || ry + speedy <= r / 2){
      speedy = -speedy;
    }
    rx += speedx;
    ry += speedy;
    c.beginPath();
    c.fillStyle = 'rgba(255,255,255,0.1)';
    c.fillRect(0,0,ctx.width,ctx.height);
    c.closePath();
    c.beginPath();
    c.fillStyle = "red";
    c.arc(rx,ry,r,0,2 * Math.PI,false);
    c.fill();
    c.closePath();
  },30)
</script>
</body>
</html>
